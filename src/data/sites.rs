//! NEXRAD radar site locations.
//!
//! Data sourced from NOAA/NCEI NEXRAD Stations ArcGIS Feature Service.

/// A NEXRAD radar site with its location and metadata.
#[derive(Debug, Clone, Copy)]
#[allow(dead_code)]
pub struct NexradSite {
    /// 4-letter site identifier (e.g., "KDMX")
    pub id: &'static str,
    /// Site name/location (e.g., "DES MOINES")
    pub name: &'static str,
    /// State abbreviation (None for international sites)
    pub state: Option<&'static str>,
    /// Latitude in decimal degrees
    pub lat: f64,
    /// Longitude in decimal degrees
    pub lon: f64,
    /// Elevation in feet above sea level
    pub elevation_ft: i32,
}

impl NexradSite {
    /// Returns a display label for the site (e.g., "KDMX - Des Moines, IA")
    pub fn display_label(&self) -> String {
        match self.state {
            Some(state) => format!("{} - {}, {}", self.id, title_case(self.name), state),
            None => format!("{} - {}", self.id, title_case(self.name)),
        }
    }
}

/// Convert UPPERCASE to Title Case
fn title_case(s: &str) -> String {
    s.split_whitespace()
        .map(|word| {
            let mut chars = word.chars();
            match chars.next() {
                None => String::new(),
                Some(first) => {
                    first.to_uppercase().collect::<String>() + &chars.as_str().to_lowercase()
                }
            }
        })
        .collect::<Vec<_>>()
        .join(" ")
}

/// All NEXRAD radar sites.
pub static NEXRAD_SITES: &[NexradSite] = &[
    // CONUS - WSR-88D sites (K prefix)
    NexradSite {
        id: "KABR",
        name: "ABERDEEN",
        state: Some("SD"),
        lat: 45.45583,
        lon: -98.41306,
        elevation_ft: 1302,
    },
    NexradSite {
        id: "KABX",
        name: "ALBUQUERQUE",
        state: Some("NM"),
        lat: 35.14972,
        lon: -106.82333,
        elevation_ft: 5870,
    },
    NexradSite {
        id: "KAKQ",
        name: "NORFOLK RICHMOND",
        state: Some("VA"),
        lat: 36.98389,
        lon: -77.0075,
        elevation_ft: 112,
    },
    NexradSite {
        id: "KAMA",
        name: "AMARILLO",
        state: Some("TX"),
        lat: 35.23333,
        lon: -101.70889,
        elevation_ft: 3587,
    },
    NexradSite {
        id: "KAMX",
        name: "MIAMI",
        state: Some("FL"),
        lat: 25.61056,
        lon: -80.41306,
        elevation_ft: 14,
    },
    NexradSite {
        id: "KAPX",
        name: "GAYLORD",
        state: Some("MI"),
        lat: 44.90722,
        lon: -84.71972,
        elevation_ft: 1464,
    },
    NexradSite {
        id: "KARX",
        name: "LA CROSSE",
        state: Some("WI"),
        lat: 43.82278,
        lon: -91.19111,
        elevation_ft: 1276,
    },
    NexradSite {
        id: "KATX",
        name: "SEATTLE",
        state: Some("WA"),
        lat: 48.19472,
        lon: -122.49444,
        elevation_ft: 494,
    },
    NexradSite {
        id: "KBBX",
        name: "BEALE AFB",
        state: Some("CA"),
        lat: 39.49611,
        lon: -121.63167,
        elevation_ft: 173,
    },
    NexradSite {
        id: "KBGM",
        name: "BINGHAMTON",
        state: Some("NY"),
        lat: 42.19972,
        lon: -75.985,
        elevation_ft: 1606,
    },
    NexradSite {
        id: "KBHX",
        name: "EUREKA",
        state: Some("CA"),
        lat: 40.49833,
        lon: -124.29194,
        elevation_ft: 2402,
    },
    NexradSite {
        id: "KBIS",
        name: "BISMARCK",
        state: Some("ND"),
        lat: 46.77083,
        lon: -100.76028,
        elevation_ft: 1658,
    },
    NexradSite {
        id: "KBLX",
        name: "BILLINGS",
        state: Some("MT"),
        lat: 45.85389,
        lon: -108.60611,
        elevation_ft: 3598,
    },
    NexradSite {
        id: "KBMX",
        name: "BIRMINGHAM",
        state: Some("AL"),
        lat: 33.17194,
        lon: -86.76972,
        elevation_ft: 645,
    },
    NexradSite {
        id: "KBOX",
        name: "BOSTON",
        state: Some("MA"),
        lat: 41.95583,
        lon: -71.1375,
        elevation_ft: 118,
    },
    NexradSite {
        id: "KBRO",
        name: "BROWNSVILLE",
        state: Some("TX"),
        lat: 25.91556,
        lon: -97.41861,
        elevation_ft: 23,
    },
    NexradSite {
        id: "KBUF",
        name: "BUFFALO",
        state: Some("NY"),
        lat: 42.94861,
        lon: -78.73694,
        elevation_ft: 693,
    },
    NexradSite {
        id: "KBYX",
        name: "KEY WEST",
        state: Some("FL"),
        lat: 24.59694,
        lon: -81.70333,
        elevation_ft: 8,
    },
    NexradSite {
        id: "KCAE",
        name: "COLUMBIA",
        state: Some("SC"),
        lat: 33.94861,
        lon: -81.11861,
        elevation_ft: 231,
    },
    NexradSite {
        id: "KCBW",
        name: "HOULTON",
        state: Some("ME"),
        lat: 46.03917,
        lon: -67.80694,
        elevation_ft: 746,
    },
    NexradSite {
        id: "KCBX",
        name: "BOISE",
        state: Some("ID"),
        lat: 43.49083,
        lon: -116.23444,
        elevation_ft: 3061,
    },
    NexradSite {
        id: "KCCX",
        name: "STATE COLLEGE",
        state: Some("PA"),
        lat: 40.92306,
        lon: -78.00389,
        elevation_ft: 2405,
    },
    NexradSite {
        id: "KCLE",
        name: "CLEVELAND",
        state: Some("OH"),
        lat: 41.41306,
        lon: -81.86,
        elevation_ft: 763,
    },
    NexradSite {
        id: "KCLX",
        name: "CHARLESTON",
        state: Some("SC"),
        lat: 32.65556,
        lon: -81.04222,
        elevation_ft: 97,
    },
    NexradSite {
        id: "KCRP",
        name: "CORPUS CHRISTI",
        state: Some("TX"),
        lat: 27.78389,
        lon: -97.51083,
        elevation_ft: 45,
    },
    NexradSite {
        id: "KCXX",
        name: "BURLINGTON",
        state: Some("VT"),
        lat: 44.51111,
        lon: -73.16639,
        elevation_ft: 317,
    },
    NexradSite {
        id: "KCYS",
        name: "CHEYENNE",
        state: Some("WY"),
        lat: 41.15194,
        lon: -104.80611,
        elevation_ft: 6128,
    },
    NexradSite {
        id: "KDAX",
        name: "SACRAMENTO",
        state: Some("CA"),
        lat: 38.50111,
        lon: -121.67667,
        elevation_ft: 30,
    },
    NexradSite {
        id: "KDDC",
        name: "DODGE CITY",
        state: Some("KS"),
        lat: 37.76083,
        lon: -99.96833,
        elevation_ft: 2590,
    },
    NexradSite {
        id: "KDFX",
        name: "LAUGHLIN AFB",
        state: Some("TX"),
        lat: 29.2725,
        lon: -100.28028,
        elevation_ft: 1131,
    },
    NexradSite {
        id: "KDGX",
        name: "JACKSON BRANDON",
        state: Some("MS"),
        lat: 32.28,
        lon: -89.98444,
        elevation_ft: 0,
    },
    NexradSite {
        id: "KDIX",
        name: "PHILADELPHIA",
        state: Some("NJ"),
        lat: 39.94694,
        lon: -74.41111,
        elevation_ft: 149,
    },
    NexradSite {
        id: "KDLH",
        name: "DULUTH",
        state: Some("MN"),
        lat: 46.83694,
        lon: -92.20972,
        elevation_ft: 1428,
    },
    NexradSite {
        id: "KDMX",
        name: "DES MOINES",
        state: Some("IA"),
        lat: 41.73111,
        lon: -93.72278,
        elevation_ft: 981,
    },
    NexradSite {
        id: "KDOX",
        name: "DOVER AFB",
        state: Some("DE"),
        lat: 38.82556,
        lon: -75.44,
        elevation_ft: 50,
    },
    NexradSite {
        id: "KDTX",
        name: "DETROIT",
        state: Some("MI"),
        lat: 42.69972,
        lon: -83.47167,
        elevation_ft: 1072,
    },
    NexradSite {
        id: "KDVN",
        name: "DAVENPORT",
        state: Some("IA"),
        lat: 41.61167,
        lon: -90.58083,
        elevation_ft: 754,
    },
    NexradSite {
        id: "KDYX",
        name: "DYESS AFB",
        state: Some("TX"),
        lat: 32.53833,
        lon: -99.25417,
        elevation_ft: 1517,
    },
    NexradSite {
        id: "KEAX",
        name: "KANSAS CITY",
        state: Some("MO"),
        lat: 38.81028,
        lon: -94.26417,
        elevation_ft: 995,
    },
    NexradSite {
        id: "KEMX",
        name: "TUCSON",
        state: Some("AZ"),
        lat: 31.89361,
        lon: -110.63028,
        elevation_ft: 5202,
    },
    NexradSite {
        id: "KENX",
        name: "ALBANY",
        state: Some("NY"),
        lat: 42.58639,
        lon: -74.06444,
        elevation_ft: 1826,
    },
    NexradSite {
        id: "KEOX",
        name: "FT RUCKER",
        state: Some("AL"),
        lat: 31.46028,
        lon: -85.45944,
        elevation_ft: 434,
    },
    NexradSite {
        id: "KEPZ",
        name: "EL PASO",
        state: Some("NM"),
        lat: 31.87306,
        lon: -106.6975,
        elevation_ft: 4104,
    },
    NexradSite {
        id: "KESX",
        name: "LAS VEGAS",
        state: Some("NV"),
        lat: 35.70111,
        lon: -114.89139,
        elevation_ft: 4867,
    },
    NexradSite {
        id: "KEVX",
        name: "EGLIN AFB",
        state: Some("FL"),
        lat: 30.56417,
        lon: -85.92139,
        elevation_ft: 140,
    },
    NexradSite {
        id: "KEWX",
        name: "AUSTIN SAN ANTONIO",
        state: Some("TX"),
        lat: 29.70361,
        lon: -98.02806,
        elevation_ft: 633,
    },
    NexradSite {
        id: "KEYX",
        name: "EDWARDS AFB",
        state: Some("CA"),
        lat: 35.09778,
        lon: -117.56,
        elevation_ft: 2757,
    },
    NexradSite {
        id: "KFCX",
        name: "ROANOKE",
        state: Some("VA"),
        lat: 37.02417,
        lon: -80.27417,
        elevation_ft: 2868,
    },
    NexradSite {
        id: "KFDR",
        name: "ALTUS AFB",
        state: Some("OK"),
        lat: 34.36222,
        lon: -98.97611,
        elevation_ft: 1267,
    },
    NexradSite {
        id: "KFDX",
        name: "CANNON AFB",
        state: Some("NM"),
        lat: 34.63528,
        lon: -103.62944,
        elevation_ft: 4650,
    },
    NexradSite {
        id: "KFFC",
        name: "ATLANTA",
        state: Some("GA"),
        lat: 33.36333,
        lon: -84.56583,
        elevation_ft: 858,
    },
    NexradSite {
        id: "KFSD",
        name: "SIOUX FALLS",
        state: Some("SD"),
        lat: 43.58778,
        lon: -96.72889,
        elevation_ft: 1430,
    },
    NexradSite {
        id: "KFSX",
        name: "FLAGSTAFF",
        state: Some("AZ"),
        lat: 34.57444,
        lon: -111.19833,
        elevation_ft: 0,
    },
    NexradSite {
        id: "KFTG",
        name: "DENVER FRONT RANGE",
        state: Some("CO"),
        lat: 39.78667,
        lon: -104.54528,
        elevation_ft: 5497,
    },
    NexradSite {
        id: "KFWS",
        name: "DALLAS FT WORTH",
        state: Some("TX"),
        lat: 32.57278,
        lon: -97.30278,
        elevation_ft: 683,
    },
    NexradSite {
        id: "KGGW",
        name: "GLASGOW",
        state: Some("MT"),
        lat: 48.20639,
        lon: -106.62417,
        elevation_ft: 2276,
    },
    NexradSite {
        id: "KGJX",
        name: "GRAND JUNCTION",
        state: Some("CO"),
        lat: 39.06222,
        lon: -108.21306,
        elevation_ft: 9992,
    },
    NexradSite {
        id: "KGLD",
        name: "GOODLAND",
        state: Some("KS"),
        lat: 39.36694,
        lon: -101.7,
        elevation_ft: 3651,
    },
    NexradSite {
        id: "KGRB",
        name: "GREEN BAY",
        state: Some("WI"),
        lat: 44.49833,
        lon: -88.11111,
        elevation_ft: 682,
    },
    NexradSite {
        id: "KGRK",
        name: "FT HOOD",
        state: Some("TX"),
        lat: 30.72167,
        lon: -97.38278,
        elevation_ft: 538,
    },
    NexradSite {
        id: "KGRR",
        name: "GRAND RAPIDS",
        state: Some("MI"),
        lat: 42.89389,
        lon: -85.54472,
        elevation_ft: 778,
    },
    NexradSite {
        id: "KGSP",
        name: "GREER",
        state: Some("SC"),
        lat: 34.88306,
        lon: -82.22028,
        elevation_ft: 940,
    },
    NexradSite {
        id: "KGWX",
        name: "COLUMBUS AFB",
        state: Some("MS"),
        lat: 33.89667,
        lon: -88.32889,
        elevation_ft: 476,
    },
    NexradSite {
        id: "KGYX",
        name: "PORTLAND",
        state: Some("ME"),
        lat: 43.89139,
        lon: -70.25694,
        elevation_ft: 409,
    },
    NexradSite {
        id: "KHDX",
        name: "HOLLOMAN AFB",
        state: Some("NM"),
        lat: 33.07639,
        lon: -106.12222,
        elevation_ft: 4222,
    },
    NexradSite {
        id: "KHGX",
        name: "HOUSTON GALVESTON",
        state: Some("TX"),
        lat: 29.47194,
        lon: -95.07889,
        elevation_ft: 18,
    },
    NexradSite {
        id: "KHNX",
        name: "SAN JOAQUIN VALLEY",
        state: Some("CA"),
        lat: 36.31417,
        lon: -119.63111,
        elevation_ft: 243,
    },
    NexradSite {
        id: "KHPX",
        name: "FT CAMPBELL",
        state: Some("KY"),
        lat: 36.73667,
        lon: -87.285,
        elevation_ft: 576,
    },
    NexradSite {
        id: "KHTX",
        name: "HUNTSVILLE",
        state: Some("AL"),
        lat: 34.93056,
        lon: -86.08361,
        elevation_ft: 1760,
    },
    NexradSite {
        id: "KICX",
        name: "CEDAR CITY",
        state: Some("UT"),
        lat: 37.59083,
        lon: -112.86222,
        elevation_ft: 10600,
    },
    NexradSite {
        id: "KICT",
        name: "WICHITA",
        state: Some("KS"),
        lat: 37.65444,
        lon: -97.4425,
        elevation_ft: 1335,
    },
    NexradSite {
        id: "KILN",
        name: "CINCINNATI",
        state: Some("OH"),
        lat: 39.42028,
        lon: -83.82167,
        elevation_ft: 1056,
    },
    NexradSite {
        id: "KILX",
        name: "LINCOLN",
        state: Some("IL"),
        lat: 40.15056,
        lon: -89.33667,
        elevation_ft: 582,
    },
    NexradSite {
        id: "KIND",
        name: "INDIANAPOLIS",
        state: Some("IN"),
        lat: 39.7075,
        lon: -86.28028,
        elevation_ft: 790,
    },
    NexradSite {
        id: "KINX",
        name: "TULSA",
        state: Some("OK"),
        lat: 36.175,
        lon: -95.56444,
        elevation_ft: 668,
    },
    NexradSite {
        id: "KIWA",
        name: "PHOENIX",
        state: Some("AZ"),
        lat: 33.28917,
        lon: -111.66917,
        elevation_ft: 1353,
    },
    NexradSite {
        id: "KIWX",
        name: "FT WAYNE",
        state: Some("IN"),
        lat: 41.40861,
        lon: -85.7,
        elevation_ft: 960,
    },
    NexradSite {
        id: "KJAX",
        name: "JACKSONVILLE",
        state: Some("FL"),
        lat: 30.48444,
        lon: -81.70194,
        elevation_ft: 33,
    },
    NexradSite {
        id: "KJGX",
        name: "ROBINS AFB",
        state: Some("GA"),
        lat: 32.675,
        lon: -83.35111,
        elevation_ft: 521,
    },
    NexradSite {
        id: "KJKL",
        name: "JACKSON",
        state: Some("KY"),
        lat: 37.59083,
        lon: -83.31306,
        elevation_ft: 1364,
    },
    NexradSite {
        id: "KLBB",
        name: "LUBBOCK",
        state: Some("TX"),
        lat: 33.65417,
        lon: -101.81361,
        elevation_ft: 3259,
    },
    NexradSite {
        id: "KLCH",
        name: "LAKE CHARLES",
        state: Some("LA"),
        lat: 30.125,
        lon: -93.21583,
        elevation_ft: 13,
    },
    NexradSite {
        id: "KLGX",
        name: "LANGLEY HILL",
        state: Some("WA"),
        lat: 47.1158,
        lon: -124.1069,
        elevation_ft: 252,
    },
    NexradSite {
        id: "KLIX",
        name: "NEW ORLEANS",
        state: Some("LA"),
        lat: 30.33667,
        lon: -89.82528,
        elevation_ft: 24,
    },
    NexradSite {
        id: "KLNX",
        name: "NORTH PLATTE",
        state: Some("NE"),
        lat: 41.95778,
        lon: -100.57583,
        elevation_ft: 2970,
    },
    NexradSite {
        id: "KLOT",
        name: "CHICAGO",
        state: Some("IL"),
        lat: 41.60444,
        lon: -88.08472,
        elevation_ft: 663,
    },
    NexradSite {
        id: "KLRX",
        name: "ELKO",
        state: Some("NV"),
        lat: 40.73972,
        lon: -116.80278,
        elevation_ft: 6744,
    },
    NexradSite {
        id: "KLSX",
        name: "ST LOUIS",
        state: Some("MO"),
        lat: 38.69889,
        lon: -90.68278,
        elevation_ft: 608,
    },
    NexradSite {
        id: "KLTX",
        name: "WILMINGTON",
        state: Some("NC"),
        lat: 33.98917,
        lon: -78.42917,
        elevation_ft: 64,
    },
    NexradSite {
        id: "KLVX",
        name: "LOUISVILLE",
        state: Some("KY"),
        lat: 37.97528,
        lon: -85.94389,
        elevation_ft: 719,
    },
    NexradSite {
        id: "KLWX",
        name: "STERLING",
        state: Some("VA"),
        lat: 38.97528,
        lon: -77.47806,
        elevation_ft: 272,
    },
    NexradSite {
        id: "KLZK",
        name: "LITTLE ROCK",
        state: Some("AR"),
        lat: 34.83639,
        lon: -92.26194,
        elevation_ft: 568,
    },
    NexradSite {
        id: "KMAF",
        name: "MIDLAND ODESSA",
        state: Some("TX"),
        lat: 31.94333,
        lon: -102.18889,
        elevation_ft: 2868,
    },
    NexradSite {
        id: "KMAX",
        name: "MEDFORD",
        state: Some("OR"),
        lat: 42.08111,
        lon: -122.71611,
        elevation_ft: 7513,
    },
    NexradSite {
        id: "KMBX",
        name: "MINOT AFB",
        state: Some("ND"),
        lat: 48.3925,
        lon: -100.86444,
        elevation_ft: 1493,
    },
    NexradSite {
        id: "KMHX",
        name: "MOREHEAD CITY",
        state: Some("NC"),
        lat: 34.77583,
        lon: -76.87639,
        elevation_ft: 31,
    },
    NexradSite {
        id: "KMKX",
        name: "MILWAUKEE",
        state: Some("WI"),
        lat: 42.96778,
        lon: -88.55056,
        elevation_ft: 958,
    },
    NexradSite {
        id: "KMLB",
        name: "MELBOURNE",
        state: Some("FL"),
        lat: 28.11306,
        lon: -80.65444,
        elevation_ft: 99,
    },
    NexradSite {
        id: "KMOB",
        name: "MOBILE",
        state: Some("AL"),
        lat: 30.67944,
        lon: -88.23972,
        elevation_ft: 208,
    },
    NexradSite {
        id: "KMPX",
        name: "MINNEAPOLIS",
        state: Some("MN"),
        lat: 44.84889,
        lon: -93.56528,
        elevation_ft: 946,
    },
    NexradSite {
        id: "KMQT",
        name: "MARQUETTE",
        state: Some("MI"),
        lat: 46.53111,
        lon: -87.54833,
        elevation_ft: 1411,
    },
    NexradSite {
        id: "KMRX",
        name: "KNOXVILLE",
        state: Some("TN"),
        lat: 36.16833,
        lon: -83.40194,
        elevation_ft: 1337,
    },
    NexradSite {
        id: "KMSX",
        name: "MISSOULA",
        state: Some("MT"),
        lat: 47.04111,
        lon: -113.98611,
        elevation_ft: 7855,
    },
    NexradSite {
        id: "KMTX",
        name: "SALT LAKE CITY",
        state: Some("UT"),
        lat: 41.26278,
        lon: -112.44694,
        elevation_ft: 6460,
    },
    NexradSite {
        id: "KMUX",
        name: "SAN FRANCISCO",
        state: Some("CA"),
        lat: 37.15528,
        lon: -121.8975,
        elevation_ft: 3469,
    },
    NexradSite {
        id: "KMVX",
        name: "GRAND FORKS",
        state: Some("ND"),
        lat: 47.52806,
        lon: -97.325,
        elevation_ft: 986,
    },
    NexradSite {
        id: "KMXX",
        name: "MAXWELL AFB",
        state: Some("AL"),
        lat: 32.53667,
        lon: -85.78972,
        elevation_ft: 400,
    },
    NexradSite {
        id: "KNKX",
        name: "SAN DIEGO",
        state: Some("CA"),
        lat: 32.91889,
        lon: -117.04194,
        elevation_ft: 955,
    },
    NexradSite {
        id: "KNQA",
        name: "MEMPHIS",
        state: Some("TN"),
        lat: 35.34472,
        lon: -89.87333,
        elevation_ft: 282,
    },
    NexradSite {
        id: "KOAX",
        name: "OMAHA",
        state: Some("NE"),
        lat: 41.32028,
        lon: -96.36639,
        elevation_ft: 1148,
    },
    NexradSite {
        id: "KOHX",
        name: "NASHVILLE",
        state: Some("TN"),
        lat: 36.24722,
        lon: -86.5625,
        elevation_ft: 579,
    },
    NexradSite {
        id: "KOKX",
        name: "NEW YORK CITY",
        state: Some("NY"),
        lat: 40.86556,
        lon: -72.86444,
        elevation_ft: 85,
    },
    NexradSite {
        id: "KOTX",
        name: "SPOKANE",
        state: Some("WA"),
        lat: 47.68056,
        lon: -117.62583,
        elevation_ft: 2384,
    },
    NexradSite {
        id: "KPAH",
        name: "PADUCAH",
        state: Some("KY"),
        lat: 37.06833,
        lon: -88.77194,
        elevation_ft: 392,
    },
    NexradSite {
        id: "KPBZ",
        name: "PITTSBURGH",
        state: Some("PA"),
        lat: 40.53167,
        lon: -80.21833,
        elevation_ft: 1185,
    },
    NexradSite {
        id: "KPDT",
        name: "PENDLETON",
        state: Some("OR"),
        lat: 45.69056,
        lon: -118.85278,
        elevation_ft: 1515,
    },
    NexradSite {
        id: "KPOE",
        name: "FT POLK",
        state: Some("LA"),
        lat: 31.15528,
        lon: -92.97583,
        elevation_ft: 408,
    },
    NexradSite {
        id: "KPUX",
        name: "PUEBLO",
        state: Some("CO"),
        lat: 38.45944,
        lon: -104.18139,
        elevation_ft: 5249,
    },
    NexradSite {
        id: "KRAX",
        name: "RALEIGH DURHAM",
        state: Some("NC"),
        lat: 35.66528,
        lon: -78.49,
        elevation_ft: 348,
    },
    NexradSite {
        id: "KRGX",
        name: "RENO",
        state: Some("NV"),
        lat: 39.75417,
        lon: -119.46111,
        elevation_ft: 8299,
    },
    NexradSite {
        id: "KRIW",
        name: "RIVERTON",
        state: Some("WY"),
        lat: 43.06611,
        lon: -108.47667,
        elevation_ft: 5568,
    },
    NexradSite {
        id: "KRLX",
        name: "CHARLESTON",
        state: Some("WV"),
        lat: 38.31194,
        lon: -81.72389,
        elevation_ft: 1080,
    },
    NexradSite {
        id: "KRTX",
        name: "PORTLAND",
        state: Some("OR"),
        lat: 45.715,
        lon: -122.96417,
        elevation_ft: 0,
    },
    NexradSite {
        id: "KSFX",
        name: "POCATELLO",
        state: Some("ID"),
        lat: 43.10583,
        lon: -112.68528,
        elevation_ft: 4474,
    },
    NexradSite {
        id: "KSGF",
        name: "SPRINGFIELD",
        state: Some("MO"),
        lat: 37.23528,
        lon: -93.40028,
        elevation_ft: 1278,
    },
    NexradSite {
        id: "KSHV",
        name: "SHREVEPORT",
        state: Some("LA"),
        lat: 32.45056,
        lon: -93.84111,
        elevation_ft: 273,
    },
    NexradSite {
        id: "KSJT",
        name: "SAN ANGELO",
        state: Some("TX"),
        lat: 31.37111,
        lon: -100.49222,
        elevation_ft: 1890,
    },
    NexradSite {
        id: "KSOX",
        name: "SANTA ANA MOUNTAINS",
        state: Some("CA"),
        lat: 33.81778,
        lon: -117.635,
        elevation_ft: 3027,
    },
    NexradSite {
        id: "KSRX",
        name: "FT SMITH",
        state: Some("AR"),
        lat: 35.29056,
        lon: -94.36167,
        elevation_ft: 0,
    },
    NexradSite {
        id: "KTBW",
        name: "TAMPA BAY",
        state: Some("FL"),
        lat: 27.70528,
        lon: -82.40194,
        elevation_ft: 41,
    },
    NexradSite {
        id: "KTFX",
        name: "GREAT FALLS",
        state: Some("MT"),
        lat: 47.45972,
        lon: -111.38444,
        elevation_ft: 3714,
    },
    NexradSite {
        id: "KTLH",
        name: "TALLAHASSEE",
        state: Some("FL"),
        lat: 30.3975,
        lon: -84.32889,
        elevation_ft: 63,
    },
    NexradSite {
        id: "KTLX",
        name: "OKLAHOMA CITY",
        state: Some("OK"),
        lat: 35.33306,
        lon: -97.2775,
        elevation_ft: 1213,
    },
    NexradSite {
        id: "KTWX",
        name: "TOPEKA",
        state: Some("KS"),
        lat: 38.99694,
        lon: -96.2325,
        elevation_ft: 1367,
    },
    NexradSite {
        id: "KUDX",
        name: "RAPID CITY",
        state: Some("SD"),
        lat: 44.125,
        lon: -102.82944,
        elevation_ft: 3016,
    },
    NexradSite {
        id: "KUEX",
        name: "HASTINGS",
        state: Some("NE"),
        lat: 40.32083,
        lon: -98.44167,
        elevation_ft: 1976,
    },
    NexradSite {
        id: "KVAX",
        name: "MOODY AFB",
        state: Some("GA"),
        lat: 30.89,
        lon: -83.00194,
        elevation_ft: 178,
    },
    NexradSite {
        id: "KVBX",
        name: "VANDENBERG AFB",
        state: Some("CA"),
        lat: 34.83806,
        lon: -120.39583,
        elevation_ft: 1233,
    },
    NexradSite {
        id: "KVNX",
        name: "VANCE AFB",
        state: Some("OK"),
        lat: 36.74083,
        lon: -98.1275,
        elevation_ft: 1210,
    },
    NexradSite {
        id: "KVTX",
        name: "LOS ANGELES",
        state: Some("CA"),
        lat: 34.41167,
        lon: -119.17861,
        elevation_ft: 2726,
    },
    NexradSite {
        id: "KVWX",
        name: "EVANSVILLE",
        state: Some("IN"),
        lat: 38.26,
        lon: -87.7247,
        elevation_ft: 0,
    },
    NexradSite {
        id: "KYUX",
        name: "YUMA",
        state: Some("AZ"),
        lat: 32.49528,
        lon: -114.65583,
        elevation_ft: 174,
    },
    // Alaska (PA prefix)
    NexradSite {
        id: "PABC",
        name: "BETHEL",
        state: Some("AK"),
        lat: 60.79278,
        lon: -161.87417,
        elevation_ft: 162,
    },
    NexradSite {
        id: "PACG",
        name: "SITKA",
        state: Some("AK"),
        lat: 56.85278,
        lon: -135.52917,
        elevation_ft: 270,
    },
    NexradSite {
        id: "PAEC",
        name: "NOME",
        state: Some("AK"),
        lat: 64.51139,
        lon: -165.295,
        elevation_ft: 54,
    },
    NexradSite {
        id: "PAHG",
        name: "ANCHORAGE",
        state: Some("AK"),
        lat: 60.725914,
        lon: -151.351467,
        elevation_ft: 243,
    },
    NexradSite {
        id: "PAIH",
        name: "MIDDLETON ISLAND",
        state: Some("AK"),
        lat: 59.46194,
        lon: -146.30111,
        elevation_ft: 67,
    },
    NexradSite {
        id: "PAKC",
        name: "KING SALMON",
        state: Some("AK"),
        lat: 58.67944,
        lon: -156.62944,
        elevation_ft: 63,
    },
    NexradSite {
        id: "PAPD",
        name: "FAIRBANKS",
        state: Some("AK"),
        lat: 65.03556,
        lon: -147.49917,
        elevation_ft: 2593,
    },
    // Hawaii (PH prefix)
    NexradSite {
        id: "PHKI",
        name: "SOUTH KAUAI",
        state: Some("HI"),
        lat: 21.89417,
        lon: -159.55222,
        elevation_ft: 179,
    },
    NexradSite {
        id: "PHKM",
        name: "KAMUELA",
        state: Some("HI"),
        lat: 20.12556,
        lon: -155.77778,
        elevation_ft: 3812,
    },
    NexradSite {
        id: "PHMO",
        name: "MOLOKAI",
        state: Some("HI"),
        lat: 21.13278,
        lon: -157.18,
        elevation_ft: 1363,
    },
    NexradSite {
        id: "PHWA",
        name: "SOUTH SHORE",
        state: Some("HI"),
        lat: 19.095,
        lon: -155.56889,
        elevation_ft: 1370,
    },
    // Puerto Rico (TJ prefix)
    NexradSite {
        id: "TJBQ",
        name: "RAFAEL HERNANDEZ",
        state: Some("PR"),
        lat: 18.485,
        lon: -67.143,
        elevation_ft: 280,
    },
    NexradSite {
        id: "TJRV",
        name: "JOSE APONTE DE LA TORRE",
        state: Some("PR"),
        lat: 18.256,
        lon: -65.637,
        elevation_ft: 50,
    },
    NexradSite {
        id: "TJUA",
        name: "SAN JUAN",
        state: Some("PR"),
        lat: 18.1175,
        lon: -66.07861,
        elevation_ft: 2794,
    },
    // Guam
    NexradSite {
        id: "PGUA",
        name: "ANDERSEN AFB",
        state: Some("GU"),
        lat: 13.45444,
        lon: 144.80833,
        elevation_ft: 264,
    },
    // International / Military (various prefixes)
    NexradSite {
        id: "RKJK",
        name: "KUNSAN AB",
        state: None,
        lat: 35.92417,
        lon: 126.62222,
        elevation_ft: 78,
    },
    NexradSite {
        id: "RKSG",
        name: "CAMP HUMPHREYS",
        state: None,
        lat: 36.95972,
        lon: 127.01833,
        elevation_ft: 52,
    },
    NexradSite {
        id: "RODN",
        name: "KADENA AB",
        state: None,
        lat: 26.30194,
        lon: 127.90972,
        elevation_ft: 218,
    },
    NexradSite {
        id: "LPLA",
        name: "LAJES AB",
        state: None,
        lat: 38.73028,
        lon: -27.32167,
        elevation_ft: 3334,
    },
    // TDWR sites (Terminal Doppler Weather Radar - T prefix)
    NexradSite {
        id: "TADW",
        name: "ANDREWS AFB",
        state: Some("MD"),
        lat: 38.695,
        lon: -76.845,
        elevation_ft: 344,
    },
    NexradSite {
        id: "TATL",
        name: "ATLANTA",
        state: Some("GA"),
        lat: 33.646944,
        lon: -84.261944,
        elevation_ft: 1076,
    },
    NexradSite {
        id: "TBNA",
        name: "NASHVILLE",
        state: Some("TN"),
        lat: 35.98,
        lon: -86.661944,
        elevation_ft: 817,
    },
    NexradSite {
        id: "TBOS",
        name: "BOSTON",
        state: Some("MA"),
        lat: 42.158056,
        lon: -70.933056,
        elevation_ft: 262,
    },
    NexradSite {
        id: "TBWI",
        name: "BALTIMORE",
        state: Some("MD"),
        lat: 39.09,
        lon: -76.63,
        elevation_ft: 299,
    },
    NexradSite {
        id: "TCLT",
        name: "CHARLOTTE",
        state: Some("NC"),
        lat: 35.336944,
        lon: -80.885,
        elevation_ft: 869,
    },
    NexradSite {
        id: "TCMH",
        name: "COLUMBUS",
        state: Some("OH"),
        lat: 40.006111,
        lon: -82.715,
        elevation_ft: 1148,
    },
    NexradSite {
        id: "TCVG",
        name: "COVINGTON",
        state: Some("KY"),
        lat: 38.898056,
        lon: -84.58,
        elevation_ft: 1053,
    },
    NexradSite {
        id: "TDAL",
        name: "DALLAS LOVE",
        state: Some("TX"),
        lat: 32.926111,
        lon: -96.968056,
        elevation_ft: 623,
    },
    NexradSite {
        id: "TDAY",
        name: "DAYTON",
        state: Some("OH"),
        lat: 40.021944,
        lon: -84.123056,
        elevation_ft: 1020,
    },
    NexradSite {
        id: "TDCA",
        name: "WASHINGTON NATL",
        state: Some("MD"),
        lat: 38.758889,
        lon: -76.961944,
        elevation_ft: 344,
    },
    NexradSite {
        id: "TDEN",
        name: "DENVER",
        state: Some("CO"),
        lat: 39.728056,
        lon: -104.526111,
        elevation_ft: 5702,
    },
    NexradSite {
        id: "TDFW",
        name: "DALLAS FT WORTH",
        state: Some("TX"),
        lat: 33.065,
        lon: -96.918056,
        elevation_ft: 584,
    },
    NexradSite {
        id: "TDTW",
        name: "DETROIT",
        state: Some("MI"),
        lat: 42.111111,
        lon: -83.515,
        elevation_ft: 771,
    },
    NexradSite {
        id: "TEWR",
        name: "NEWARK",
        state: Some("NJ"),
        lat: 40.593056,
        lon: -74.27,
        elevation_ft: 135,
    },
    NexradSite {
        id: "TFLL",
        name: "FT LAUDERDALE",
        state: Some("FL"),
        lat: 26.143056,
        lon: -80.343889,
        elevation_ft: 121,
    },
    NexradSite {
        id: "THOU",
        name: "HOUSTON HOBBY",
        state: Some("TX"),
        lat: 29.516111,
        lon: -95.241944,
        elevation_ft: 118,
    },
    NexradSite {
        id: "TIAD",
        name: "WASHINGTON DULLES",
        state: Some("VA"),
        lat: 39.083889,
        lon: -77.528889,
        elevation_ft: 472,
    },
    NexradSite {
        id: "TIAH",
        name: "HOUSTON INTL",
        state: Some("TX"),
        lat: 30.065,
        lon: -95.566944,
        elevation_ft: 253,
    },
    NexradSite {
        id: "TICH",
        name: "WICHITA",
        state: Some("KS"),
        lat: 37.506944,
        lon: -97.436944,
        elevation_ft: 1352,
    },
    NexradSite {
        id: "TIDS",
        name: "INDIANAPOLIS",
        state: Some("IN"),
        lat: 39.636944,
        lon: -86.436111,
        elevation_ft: 846,
    },
    NexradSite {
        id: "TJFK",
        name: "NEW YORK JFK",
        state: Some("NY"),
        lat: 40.588889,
        lon: -73.881111,
        elevation_ft: 112,
    },
    NexradSite {
        id: "TLAS",
        name: "LAS VEGAS",
        state: Some("NV"),
        lat: 36.143889,
        lon: -115.006944,
        elevation_ft: 2057,
    },
    NexradSite {
        id: "TLVE",
        name: "CLEVELAND",
        state: Some("OH"),
        lat: 41.29,
        lon: -82.008056,
        elevation_ft: 932,
    },
    NexradSite {
        id: "TMCI",
        name: "KANSAS CITY",
        state: Some("MO"),
        lat: 39.498056,
        lon: -94.741944,
        elevation_ft: 1089,
    },
    NexradSite {
        id: "TMCO",
        name: "ORLANDO",
        state: Some("FL"),
        lat: 28.343889,
        lon: -81.326111,
        elevation_ft: 171,
    },
    NexradSite {
        id: "TMDW",
        name: "CHICAGO MIDWAY",
        state: Some("IL"),
        lat: 41.651111,
        lon: -87.713333,
        elevation_ft: 764,
    },
    NexradSite {
        id: "TMEM",
        name: "MEMPHIS",
        state: Some("MS"),
        lat: 34.896111,
        lon: -89.993056,
        elevation_ft: 482,
    },
    NexradSite {
        id: "TMIA",
        name: "MIAMI",
        state: Some("FL"),
        lat: 25.758056,
        lon: -80.491111,
        elevation_ft: 125,
    },
    NexradSite {
        id: "TMKE",
        name: "MILWAUKEE",
        state: Some("WI"),
        lat: 42.818889,
        lon: -88.046111,
        elevation_ft: 932,
    },
    NexradSite {
        id: "TMSP",
        name: "MINNEAPOLIS",
        state: Some("MN"),
        lat: 44.871111,
        lon: -92.933056,
        elevation_ft: 1122,
    },
    NexradSite {
        id: "TMSY",
        name: "NEW ORLEANS",
        state: Some("LA"),
        lat: 30.021944,
        lon: -90.403056,
        elevation_ft: 98,
    },
    NexradSite {
        id: "TOKC",
        name: "OKLAHOMA CITY",
        state: Some("OK"),
        lat: 35.276111,
        lon: -97.51,
        elevation_ft: 1309,
    },
    NexradSite {
        id: "TORD",
        name: "CHICAGO OHARE",
        state: Some("IL"),
        lat: 41.796944,
        lon: -87.858056,
        elevation_ft: 745,
    },
    NexradSite {
        id: "TPBI",
        name: "WEST PALM BEACH",
        state: Some("FL"),
        lat: 26.688056,
        lon: -80.273056,
        elevation_ft: 135,
    },
    NexradSite {
        id: "TPHL",
        name: "PHILADELPHIA",
        state: Some("NJ"),
        lat: 39.948889,
        lon: -75.068889,
        elevation_ft: 154,
    },
    NexradSite {
        id: "TPHX",
        name: "PHOENIX",
        state: Some("AZ"),
        lat: 33.421111,
        lon: -112.163056,
        elevation_ft: 1089,
    },
    NexradSite {
        id: "TPIT",
        name: "PITTSBURGH",
        state: Some("PA"),
        lat: 40.501111,
        lon: -80.486111,
        elevation_ft: 1385,
    },
    NexradSite {
        id: "TRDU",
        name: "RALEIGH",
        state: Some("NC"),
        lat: 36.001944,
        lon: -78.696944,
        elevation_ft: 515,
    },
    NexradSite {
        id: "TSDF",
        name: "LOUISVILLE",
        state: Some("KY"),
        lat: 38.046111,
        lon: -85.61,
        elevation_ft: 732,
    },
    NexradSite {
        id: "TSJU",
        name: "SAN JUAN",
        state: Some("PR"),
        lat: 18.473889,
        lon: -66.178889,
        elevation_ft: 157,
    },
    NexradSite {
        id: "TSLC",
        name: "SALT LAKE CITY",
        state: Some("UT"),
        lat: 40.966944,
        lon: -111.93,
        elevation_ft: 4295,
    },
    NexradSite {
        id: "TSTL",
        name: "ST LOUIS",
        state: Some("MO"),
        lat: 38.805,
        lon: -90.488889,
        elevation_ft: 646,
    },
    NexradSite {
        id: "TTPA",
        name: "TAMPA",
        state: Some("FL"),
        lat: 27.86,
        lon: -82.518056,
        elevation_ft: 92,
    },
    NexradSite {
        id: "TTUL",
        name: "TULSA",
        state: Some("OK"),
        lat: 36.071111,
        lon: -95.826944,
        elevation_ft: 823,
    },
];

/// Look up a site by its ID (case-insensitive).
pub fn get_site(id: &str) -> Option<&'static NexradSite> {
    let id_upper = id.to_uppercase();
    NEXRAD_SITES.iter().find(|site| site.id == id_upper)
}

/// Get all sites sorted by ID.
pub fn all_sites_sorted() -> Vec<&'static NexradSite> {
    let mut sites: Vec<_> = NEXRAD_SITES.iter().collect();
    sites.sort_by_key(|s| s.id);
    sites
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_get_site() {
        let site = get_site("KDMX").unwrap();
        assert_eq!(site.name, "DES MOINES");
        assert_eq!(site.state, Some("IA"));
    }

    #[test]
    fn test_get_site_case_insensitive() {
        assert!(get_site("kdmx").is_some());
        assert!(get_site("KdMx").is_some());
    }

    #[test]
    fn test_site_count() {
        assert!(NEXRAD_SITES.len() > 150, "Should have many NEXRAD sites");
    }
}
